<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
        <meta name="viewport" content="width='device-width, initial-scale=1.0'">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>회원가입 확인</title>
		<link rel=" shortcut icon" href="./image/favicon_32x32.png">
		<link rel="icon" href="./image/favicon_32x32.png">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;1,100;1,300;1,400&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet" type="text/css" />
		<style>
		</style>
	<head>

	<body onload="javascript:getData();">
		<div class="join_confirm">
			<h1><img src="./image/logo.png" alt="로고"></h1>
			<h2>회원가입 정보</h2>
			<div class="content">
          <dl>
            <dt>이메일</dt>
            <dd id="email"></dd>
          </dl>
          <dl>
            <dt>비밀번호</dt>
            <dd id="password"></dd>
          </dl>
          <dl>
            <dt>생년월일</dt>
            <dd id="birth"></dd>
          </dl>
          <dl>
            <dt>성별</dt>
            <dd id="gender"></dd>
          </dl>
          <dl>
            <dt>자기소개</dt>
            <dd id="self_introduction"></dd>
          </dl>
          <dl>
            <dt>이메일 광고 수신여부</dt>
            <dd id="receive"></dd>
          </dl>
		</div>
		  <div class="confirm">
			<button type="submit" onclick="javascript:confrimJoin();">가입신청</button>
			<button type="button" onclick="history.go(-1);">이전으로</button>
		  </div>
		</div>
	</body>

	
	<script>
	alert("회원가입이 완료되었습니다.");

	function getData() {
	    const URLSearch = new URLSearchParams(location.search); // 객체 생성
		
		console.log("location.search", location.search);
		console.log("new URLSearchParams(location.search)" ,  new URLSearchParams(location.search));


		var email = URLSearch.get('email');
		var password = URLSearch.get('password');
		var birth = URLSearch.get('birth');
		var year = URLSearch.get('year');
		var month = URLSearch.get('month');
		var day = URLSearch.get('day');
		var gender = URLSearch.get('gender');
		var self_introduction = URLSearch.get('self_introduction');
		var receive = URLSearch.get('receive');

	    document.getElementById("email").innerHTML = email;
	    document.getElementById("password").innerHTML = password;
	    document.getElementById("birth").innerHTML = year+"-"+ month+"-"+ day;
	    document.getElementById("gender").innerHTML = gender == "female" ? "여자" : "남자";
	    document.getElementById("self_introduction").innerHTML = nl2br(self_introduction); // \n => br로 변경
		//document.getElementById("self_introduction").innerHTML = self_introduction;
		document.getElementById("receive").innerHTML = receive == "receive" ? "수신함" : "수신하지않음";
	}
	    function nl2br(str){ return str.replace(/\n/g, "<br />") }

	    function confrimJoin() {
	        if(confirm("입력하신 정보가 맞습니까?")) {
	            alert("회원가입이 완료되었습니다!");
	            location.href="login.html";
	        }
	    }
	</script>
</html>
